{"version":3,"sources":["api/doFetch.js","context/PropertyContext.js","cmps/Appheader.jsx","context/MapboxContext.js","cmps/AreaFilter.jsx","cmps/PriceSlider.jsx","cmps/PriceFilter.jsx","cmps/AppFilter.jsx","context/DisplayContext.js","cmps/ToggleTilesDisplay.jsx","styledCmp/PropertyPreviewStyled.js","cmps/TileDescription.jsx","cmps/FrontTilePreview.jsx","cmps/BackTilePreview.jsx","cmps/TilePreview.jsx","cmps/ToolBarPreview.jsx","cmps/NotFoundProperty.jsx","cmps/TileList.jsx","cmps/TableHeader.jsx","cmps/TableMainBody.jsx","cmps/PropertyPaging.jsx","cmps/TablePreview.jsx","cmps/ChipsFilter.jsx","hooks/useIsMobileScreen.js","cmps/DialogManager.js","cmps/AppFilterMobile.jsx","cmps/PropertiesPreview.jsx","cmps/Mapbox.jsx","cmps/ToggleTableDisplay.jsx","pages/PropertyApp.jsx","context/ThemeProviderComponent.js","styledCmp/RTL.js","App.js","reportWebVitals.js","index.js"],"names":["API_SERVER_URL","window","location","host","includes","TOKEN_EXPIRED_MSG","doFetch","uri","options","_doFetch","a","fetch","headers","Authorization","localStorage","getItem","response","json","data","msg","refreshToken","console","error","replace","origin","debug","startsWith","method","setItem","PropertyContext","createContext","PropertyProvider","children","useLocation","params","URLSearchParams","search","useState","properties","setProperties","queryProperties","setQueryProperties","totalPages","setTotalPages","yeshuvim","setYeshuvim","page","setPage","district","area","price","min","max","filterBy","setFilterBy","cities","setCities","districts","setDistricts","divisions","setDivisions","useEffect","areaParams","get","districtParams","length","split","filter","loadProperties","body","JSON","stringify","yeshuv","min_price","max_price","query_properties","total_pages","map","_getCitiesInDistrict","log","getRequestedPage","pageValue","citiesToReturn","forEach","city","push","Provider","value","getYeshuvByName","yeshuvName","find","getDistrictByName","districtName","useProperty","useContext","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","menuButton","marginRight","spacing","title","color","Appheader","classes","AppBar","className","position","Toolbar","MapboxContext","MapboxProvider","setMap","zoom","setZoom","center","setCenter","isMapDisplay","setIsMapDisplay","useMapbox","checkedIcon","CheckBox","fontSize","icon","AreaFilter","handleFilter","isYeshuv","areas","handleZoomInMap","ev","target","localName","zone","centre","Grid","item","xs","md","Autocomplete","size","limitTags","onChange","multiple","id","disableCloseOnSelect","getOptionLabel","option","renderOption","selected","Checkbox","style","checked","renderInput","TextField","variant","label","placeholder","width","PriceSlider","isMobileScreen","setValue","Typography","gutterBottom","fontWeight","Slider","event","newValue","valueLabelDisplay","container","alignItems","justify","align","toLocaleString","Button","onClick","formControl","selectEmpty","marginTop","PriceFilter","FormControl","InputLabel","Select","labelId","AppFilter","history","useHistory","pathname","alignSelf","textDecoration","DisplayContext","DisplayProvider","display","setDisplay","useDisplayMode","ToggleDisplayMode","ToggleButtonGroup","exclusive","newDisplay","ToggleButton","marginLeft","border","borderRadius","usePropertyPreview","propertyPreview","boxShadow","transition","cursor","imgContent","height","background","bottom","imgUrl","padding","objectFit","actions","btn","textAlign","whiteSpace","justifyContent","redBanner","props","top","left","zIndex","transform","letterSpacing","isFlipped","newOnShelf","right","detailsBtn","backTile","flexDirection","subtitle","TileDescription","property","CardContent","content","borderBottom","property_details","address","direction","borderLeft","pred","fv","paddingRight","parseInt","toFixed","faChevronUp","days_locked","FrontTilePreview","CardActionArea","dateOnAir","date","newDateMill","Date","now","getDaysOnAir","faFireAlt","CardMedia","image","cv","BackTilePreview","faHome","CardActions","stopPropagation","href","handleDetailsClick","PropertyPreview","setIsFlipped","Card","is_clicked","handleClick","onMouseEnter","prevState","onMouseLeave","flipDirection","flipSpeedBackToFront","flipSpeedFrontToBack","useToolbarStyles","paddingLeft","box","highlight","palette","type","secondary","main","lighten","light","text","primary","dark","flex","EnhancedToolbar","name","NotFoundProperty","usePropertyListStyled","boxSizing","list","PropertyList","sm","lg","xl","headCells","numeric","disablePadding","EnhancedTableHead","TableHead","TableRow","headCell","TableCell","tableHeadCell","marginBottom","TableMainBody","rowsPerPage","TableBody","slice","index","hover","role","tabIndex","component","scope","PropertyPaging","Pagination","count","current","scrollTo","behavior","margin","table","minWidth","visuallyHidden","clip","overflow","TablePreview","setSelected","emptyRows","Math","TableContainer","Table","onSelectAllClick","newSelecteds","n","rowCount","ChipsFilter","flexWrap","idx","Chip","useIsMobileScreen","useTheme","useMediaQuery","breakpoints","down","DialogManagerContext","React","useStylesDialog","paper","overflowX","overflowY","paperScrollPaper","tender","DialogManager","undefined","currentDialogComponent","setCurrentDialogComponent","currentDialogContentProps","setCurrentDialogContentProps","currentDialogProps","setCurrentDialogProps","open","setOpen","onExitedInner","useRef","closeDialog","useCallback","afterClose","onDialogExited","openDialog","DialogContentComponent","DialogProps","DialogContentProps","setCurrents","before","Dialog","onClose","disableBackdropClick","fullScreen","scroll","TransitionComponent","Slide","transitionDuration","enter","exit","TransitionProps","onExited","maxWidth","createElement","useDialogManager","AppFilterMobile","handleCloseFilter","PropertiesPreview","Paper","elevation","ref","Map","ReactMapboxGl","accessToken","maxZoom","attributionControl","Mapbox","nDistricts","features","nYeshuvim","handleYeshuvClick","containerStyle","onStyleLoad","fillPaint","linePaint","fillOnClick","handleDistrictClick","coordinates","anchor","offset","ClusterMarkerFactory","pointCount","zoomOnClick","feature","key","ToggleTableDisplay","PropertyApp","innerWidth","screenWidth","setScreenWidth","updateScreenWidth","addEventListener","removeEventListener","ThemeProviderComponent","useMemo","createTheme","default","typography","fontFamily","overrides","MuiTableRow","MuiTableCell","MuiTableSortLabel","PrivateValueLabel","circle","MuiSlider","valueLabel","MuiButton","containedSecondary","contained","MuiChip","deleteIcon","MuiMenu","MuiPaper","rounded","MuiSelect","select","MuiOutlinedInput","ThemeProvider","jss","create","plugins","jssPreset","rtl","RTL","StylesProvider","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0d05a7f6.chunk.js","sourcesContent":["export const API_SERVER_URL = `${\r\n  window.location.host.includes(\"propdo.ai\")\r\n    ? \"https://api.propdo.ai\"\r\n    : \"https://api.propdodev.ai\"\r\n}`;\r\n\r\nconst TOKEN_EXPIRED_MSG = \"Token has expired\";\r\nexport const IMAGES_LINK = `${\r\n  window.location.host.includes(\"propdo.ai\")\r\n    ? \"https://propdo.ai/images/dashboard/\"\r\n    : \"https://propdodev.ai/images/dashboard/\"\r\n}`;\r\n\r\nexport const IMAGES_LINK_LP = `${\r\n  window.location.host.includes(\"propdo.ai\")\r\n    ? \"https://propdo.ai/images/landing-page/\"\r\n    : \"https://propdodev.ai/images/landing-page/\"\r\n}`;\r\n\r\n\r\nexport function doFetch(uri, options) {\r\n  console.debug(`Fetching ${uri}`);\r\n  if (!options) {\r\n    options = {};\r\n  }\r\n  if (!uri.startsWith(\"/\")) {\r\n    uri = \"/\" + uri; // prepend leading slash in case it isn't there.\r\n  }\r\n  async function _doFetch() {\r\n    try {\r\n      const response = await fetch(`${API_SERVER_URL}${uri}`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"access\")}`,\r\n        },\r\n        ...options,\r\n      });\r\n      const data = await response.json();\r\n      if (data.msg === TOKEN_EXPIRED_MSG) {\r\n        try {\r\n          await refreshToken(); //wait for token to re-fresh\r\n          return _doFetch(); //then re-try the fetch.\r\n        } catch (error) {\r\n          //todo: if refresh not successfully\r\n          console.error(error);\r\n          window.location.replace(`${window.location.origin}/dashboard`);\r\n        }\r\n      } else {\r\n        return data;\r\n      }\r\n    } catch (err) {\r\n      //log the error and re-throw for further handling.\r\n      console.error(\"Failed to fetch: \", err);\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  return _doFetch();\r\n}\r\n\r\n/**\r\n * Refresh access token using the refresh token.\r\n */\r\nexport async function refreshToken() {\r\n  try {\r\n    const response = await fetch(`${API_SERVER_URL}/user/refresh`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"refresh\")}`,\r\n      },\r\n    });\r\n    const data = await response.json();\r\n    localStorage.setItem(\"access\", data[\"access token\"]);\r\n    return data;\r\n  } catch (err) {\r\n    //log the error and re-throw for further handling.\r\n    console.error(\"Failed to get refresh token.\", err);\r\n    throw err;\r\n  }\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\"\r\nimport { doFetch } from \"../api/doFetch.js\";\r\nimport {useLocation} from 'react-router-dom'\r\nconst PropertyContext = createContext();\r\n\r\nexport const PropertyProvider = ({children})=>{\r\n    let location = useLocation();\r\n    \r\n    const params = new URLSearchParams(location.search);\r\n    const [properties,setProperties] = useState(null);\r\n    const [queryProperties,setQueryProperties] = useState(null);\r\n    const [totalPages,setTotalPages] = useState(null)\r\n    const [yeshuvim,setYeshuvim] = useState(null)\r\n    const [page,setPage] = useState(1);\r\n    const [filterBy,setFilterBy] = useState({district:[],area:[],price:{min:0,max:20000000}});\r\n    const [cities, setCities] = useState(null);\r\n    const [districts,setDistricts] = useState(null)\r\n    const [divisions,setDivisions] = useState(null)\r\n\r\n\r\n    useEffect(()=>{\r\n        const areaParams = params.get(\"area\");\r\n        const districtParams = params.get(\"district\");\r\n        const min = +params.get(\"minPrice\")\r\n        const max = +params.get(\"maxPrice\")\r\n\r\n        \r\n        if(typeof areaParams !== 'object' || typeof districtParams !== 'object' || min !== 0 || max !== 0){\r\n          const area =(areaParams.length === 0) ? []:areaParams.split(',')\r\n          const district = districtParams.length === 0 ?[]:districtParams.split(',')\r\n\r\n\r\n          const filter = {\r\n              district,\r\n              area,\r\n              price:{min,max}\r\n          }\r\n          setFilterBy(filter)\r\n          loadProperties(filter)\r\n        }else {\r\n            loadProperties(filterBy)\r\n        }\r\n    },[])\r\n\r\n    const loadProperties = async (filter) => {\r\n        try{\r\n            const {properties,yeshuvim,query_properties,total_pages,districts} = await doFetch(\"/il/dashboard/search-listings\",{\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                 },\r\n                method:'POST',\r\n                body:JSON.stringify({\r\n                    page:page,\r\n                    district:filter.district,\r\n                    yeshuv: filter.area,\r\n                    min_price: filter.price.min,\r\n                    max_price: filter.price.max}),\r\n                    \r\n                })\r\n            const divisions = districts.map((district)=>district.properties.district)\r\n            const cities= _getCitiesInDistrict(filter,yeshuvim);\r\n            setProperties(properties)\r\n            setYeshuvim(yeshuvim)\r\n            setQueryProperties(query_properties)\r\n            setTotalPages(total_pages)\r\n            setCities(cities);\r\n            setDivisions(divisions)\r\n            setDistricts(districts)\r\n        }catch(err){\r\n            console.log(`err`, err)\r\n        }\r\n    }\r\n\r\n    const getRequestedPage = async (pageValue) => {\r\n        try{\r\n            const {page,properties} = await doFetch(\"/il/dashboard/search-listings\",{\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                 },\r\n                method:'POST',\r\n                body:JSON.stringify({\r\n                    page:pageValue,\r\n                    district:filterBy.district,\r\n                    yeshuv: filterBy.area,\r\n                    min_price: filterBy.price.min,\r\n                    max_price: filterBy.price.max}),\r\n                })\r\n                \r\n            setProperties(properties)\r\n            setYeshuvim(yeshuvim)\r\n            setPage(page)\r\n        } catch(err){\r\n            console.log(`err`, err)\r\n        }\r\n    }\r\n\r\n    const _getCitiesInDistrict = (filter,yeshuvim) => {\r\n        if(filter.district.length === 0) {\r\n          const cities =  yeshuvim.map((yeshuv) => yeshuv.properties.yeshuv)\r\n          return cities \r\n        }\r\n        else {\r\n            const citiesToReturn = [];\r\n            const cities = filter.district.map(district=>{\r\n                const yeshuv =yeshuvim.filter(yeshuv=>yeshuv.properties.district ===district)\r\n                return yeshuv;\r\n            })\r\n            cities.forEach(cities=>cities.forEach(city=>citiesToReturn.push(city.properties.yeshuv)))\r\n            return citiesToReturn\r\n        }\r\n    }\r\n\r\n    const getDistrictByName = ([districtName]) => {\r\n       \r\n        return districts.find(district=> districtName === district.properties.district)\r\n    }\r\n\r\n    const getYeshuvByName = ([yeshuvName]) => {\r\n        return yeshuvim.find(yeshuv=> yeshuvName === yeshuv.properties.yeshuv)\r\n    }\r\n    \r\n    return (\r\n        <PropertyContext.Provider value={{properties,queryProperties,cities,page,districts,divisions,filterBy,getYeshuvByName,getDistrictByName,setFilterBy,totalPages,getRequestedPage,yeshuvim,loadProperties}}>\r\n            {children}\r\n        </PropertyContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useProperty = () => useContext(PropertyContext)","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: \"#001145\",\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nexport default function Appheader() {\r\n  const classes = useStyles();\r\n  return (\r\n      <AppBar className={classes.root} position=\"fixed\">\r\n        <Toolbar></Toolbar>\r\n      </AppBar>\r\n\r\n  );\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\n\r\nconst MapboxContext = createContext();\r\n\r\nexport const MapboxProvider = ({children}) => {\r\n    const [map,setMap] = useState(null);\r\n    const [zoom, setZoom] = useState(7);\r\n    const [center, setCenter] = useState([34.79482056785241, 32.08440630136077]);\r\n    const [isMapDisplay, setIsMapDisplay] = useState(false);\r\n    \r\n\r\n    return (\r\n        <MapboxContext.Provider value={{map,setMap,zoom,setZoom,center,setCenter,isMapDisplay, setIsMapDisplay}}>\r\n            {children}\r\n        </MapboxContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useMapbox = () => useContext(MapboxContext)","import Checkbox from \"@material-ui/core/Checkbox\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport { CheckBox } from \"@material-ui/icons\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nconst checkedIcon = <CheckBox fontSize=\"small\" />;\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\n\r\nexport default function AreaFilter({ filterBy, handleFilter, isYeshuv }) {\r\n  const { cities, divisions, getDistrictByName, getYeshuvByName } =\r\n    useProperty();\r\n  const { setZoom, setCenter } = useMapbox();\r\n  const areas = isYeshuv ? cities : divisions;\r\n\r\n  const handleInput = (ev, value) => {\r\n    if (isYeshuv) handleFilter({ ...filterBy, area: value });\r\n    else handleFilter({ ...filterBy, district: value });\r\n    handleZoomInMap(ev, value);\r\n  };\r\n\r\n  const handleZoomInMap = (ev, value) => {\r\n    if (ev.target.localName === \"path\") {\r\n      setZoom(7);\r\n      setCenter([34.79482056785241, 32.08440630136077]);\r\n    } else {\r\n      if (value.length !== 1) return;\r\n      const zone = isYeshuv ? getYeshuvByName(value) : getDistrictByName(value);\r\n      if (isYeshuv) {\r\n        setZoom(11);\r\n        setCenter([zone.properties.centre[1], zone.properties.centre[0]]);\r\n      } else {\r\n        if (zone.properties.district === \"מחוז חיפה\") setZoom(10);\r\n        else if (zone.properties.district === \"מחוז תל אביב\") setZoom(11);\r\n        else if (zone.properties.district === \"מחוז המרכז\") setZoom(9.5);\r\n        else setZoom(8.5);\r\n        setCenter([zone.properties.centre[1], zone.properties.centre[0]]);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    areas && (\r\n      <Grid item xs={3} md={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          limitTags={0}\r\n          onChange={handleInput}\r\n          multiple\r\n          id=\"checkboxes-tags-demo\"\r\n          options={areas}\r\n          disableCloseOnSelect\r\n          getOptionLabel={(option) => option}\r\n          renderOption={(option, { selected }) => (\r\n            <>\r\n              <Checkbox\r\n                icon={icon}\r\n                checkedIcon={checkedIcon}\r\n                style={{ marginRight: 3 }}\r\n                checked={selected}\r\n              />\r\n              {option}\r\n            </>\r\n          )}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              variant=\"outlined\"\r\n              label={isYeshuv ? \"בחר עיר\" : \"בחר מחוז\"}\r\n              placeholder={isYeshuv ? \"לדוגמא: תל אביב\" : \"לדוגמא: מחוז צפון\"}\r\n              size=\"small\"\r\n            />\r\n          )}\r\n        />\r\n      </Grid>\r\n    )\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n});\r\n\r\nexport default function PriceSlider({\r\n  filterBy,\r\n  handleFilter,\r\n  isMobileScreen,\r\n}) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState([filterBy.price.min, filterBy.price.max]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    handleFilter({ ...filterBy, price: { min: value[0], max: value[1] } });\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography id=\"range-slider\" gutterBottom style={{ fontWeight: \"bold\" }}>\r\n        בחר טווח מחירים\r\n      </Typography>\r\n      <Slider\r\n        value={value}\r\n        onChange={handleChange}\r\n        valueLabelDisplay=\"auto\"\r\n        aria-labelledby=\"range-slider\"\r\n        max={40000000}\r\n      />\r\n      <Grid container alignItems={\"center\"} justify={\"space-between\"}>\r\n        <Grid\r\n          container\r\n          item\r\n          xs={10}\r\n          alignItems={\"center\"}\r\n          justify={\"flex-start\"}\r\n        >\r\n          <Grid\r\n            container\r\n            align={\"center\"}\r\n            justify={\"space-between\"}\r\n            item\r\n            xs={5}\r\n          >\r\n            {/* <Typography>מ-</Typography> */}\r\n            <Typography>\r\n              מ-{\" \"}\r\n              {filterBy.price.min > value[0]\r\n                ? filterBy.price.min.toLocaleString(\"he-IL\")\r\n                : value[0].toLocaleString(\"he-IL\")}{\" \"}\r\n              &nbsp;₪\r\n            </Typography>\r\n            <Typography style={{ marginRight: 5 }}>עד</Typography>\r\n          </Grid>\r\n          {/* <Grid container align={\"center\"} justify={\"flex-start\"} item xs={1}>\r\n          </Grid> */}\r\n          <Grid container align={\"center\"} justify={\"space-around\"} item xs={6}>\r\n            <Typography>\r\n              {filterBy.price.max === 0\r\n                ? filterBy.price.max.toLocaleString(\"he-IL\")\r\n                : value[1].toLocaleString(\"he-IL\")}{\" \"}\r\n              &nbsp;₪\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container item xs={2} justify={\"flex-end\"}>\r\n          <Button\r\n            onClick={handleClick}\r\n            style={{ backgroundColor: \"#001145\", color: \"white\" }}\r\n          >\r\n            חפש\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","import { Grid, makeStyles } from \"@material-ui/core\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { useState } from \"react\";\r\nimport PriceSlider from \"./PriceSlider\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    width: \"100%\",\r\n    position: \"relative\",\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function PriceFilter({ filterBy, handleFilter }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid item xs={2} md={3}>\r\n      <FormControl\r\n        variant=\"outlined\"\r\n        className={classes.formControl}\r\n        size=\"small\"\r\n      >\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">מחיר</InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"demo-simple-select-outlined\"\r\n          value={\"\"}\r\n          label=\"מחיר\"\r\n        >\r\n          <PriceSlider filterBy={filterBy} handleFilter={handleFilter} />\r\n        </Select>\r\n      </FormControl>\r\n    </Grid>\r\n  );\r\n}\r\n","import { Button } from \"@material-ui/core\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport AreaFilter from \"./AreaFilter\";\r\nimport PriceFilter from \"./PriceFilter\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nexport default function AppFilter() {\r\n  let history = useHistory();\r\n  const { loadProperties, filterBy, setFilterBy } = useProperty();\r\n  const { setZoom, setCenter } = useMapbox();\r\n\r\n  const handleFilter = (filter) => {\r\n    setFilterBy({ ...filter });\r\n    loadProperties(filter);\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: `?district=${filter.district.map(\r\n        (district) => district\r\n      )}&area=${filter.area.map((area) => area)}&minPrice=${\r\n        filter.price.min\r\n      }&maxPrice=${filter.price.max}`,\r\n    });\r\n  };\r\n\r\n  const resetFilter = () => {\r\n    const filter = { district: [], area: [], price: { min: 0, max: 20000000 } };\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: ``,\r\n    });\r\n    setFilterBy(filter);\r\n    setZoom(7);\r\n    setCenter([34.79482056785241, 32.08440630136077]);\r\n    loadProperties(filter);\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      justify={\"flex-start\"}\r\n      alignItems={\"flex-start\"}\r\n      spacing={3}\r\n    >\r\n      <AreaFilter\r\n        filterBy={filterBy}\r\n        handleFilter={handleFilter}\r\n        isYeshuv={false}\r\n      />\r\n      <AreaFilter\r\n        filterBy={filterBy}\r\n        handleFilter={handleFilter}\r\n        isYeshuv={true}\r\n      />\r\n      <PriceFilter filterBy={filterBy} handleFilter={handleFilter} />\r\n      {/* <Grid container alignItems={\"center\"}> */}\r\n      <Button\r\n        style={{ alignSelf: \"center\", textDecoration: \"underline\" }}\r\n        onClick={resetFilter}\r\n      >\r\n        נקה\r\n      </Button>\r\n      {/* </Grid> */}\r\n    </Grid>\r\n  );\r\n}\r\n","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nconst DisplayContext = createContext();\r\n\r\nexport const DisplayProvider = ({children}) => {\r\n    const [display,setDisplay] = useState('tiles');\r\n\r\n    return (\r\n        <DisplayContext.Provider value={{display,setDisplay}}>\r\n            {children}\r\n        </DisplayContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useDisplayMode = () => useContext(DisplayContext)","import TocIcon from \"@material-ui/icons/Toc\";\r\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\r\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\nimport { useDisplayMode } from \"../context/DisplayContext\";\r\n\r\nexport default function ToggleDisplayMode() {\r\n  const { display, setDisplay } = useDisplayMode();\r\n\r\n  const handleDisplay = (event, newDisplay) => {\r\n    setDisplay(newDisplay);\r\n  };\r\n\r\n  return (\r\n    <ToggleButtonGroup\r\n      value={display}\r\n      exclusive\r\n      onChange={handleDisplay}\r\n      aria-label=\"display mode\"\r\n    >\r\n      <ToggleButton\r\n        value=\"tiles\"\r\n        style={{\r\n          marginLeft: 5,\r\n          border: \"1px solid lightgrey\",\r\n          borderRadius: 5,\r\n        }}\r\n      >\r\n        <ViewModuleIcon />\r\n      </ToggleButton>\r\n      <ToggleButton\r\n        value=\"table\"\r\n        style={{\r\n          border: \"1px solid lightgrey\",\r\n          borderRadius: 5,\r\n        }}\r\n      >\r\n        <TocIcon />\r\n      </ToggleButton>\r\n    </ToggleButtonGroup>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport const usePropertyPreview = makeStyles({\r\n    propertyPreview: {\r\n      border:'1px solid lightgrey',\r\n      boxShadow:'none',\r\n      borderRadius:10,\r\n      transition:\"all .3s\",\r\n      \"&:hover\":{\r\n        boxShadow: \"0 0 10px -2px grey\",\r\n        cursor:\"pointer\"\r\n      }\r\n    },\r\n    imgContent:{\r\n      position:'relative',\r\n    },\r\n    price:{\r\n      width:'100%',\r\n      height:'40px',\r\n      background:'rgba(0,0,0,0.3)',\r\n      color:'white',\r\n      position:'absolute',\r\n      bottom:0\r\n    },\r\n    imgUrl: {\r\n      height:140,\r\n      padding: 0,\r\n      objectFit:\"cover\"\r\n    },\r\n    actions:{\r\n      marginTop:'5px',\r\n    },\r\n    btn:{\r\n      color:\"white\",\r\n      border:'2px solid white',\r\n      display:'flex',\r\n      padding:'5px 20px',\r\n      fontSize:'0.9rem',\r\n      textAlign:'center',\r\n      transition:'all 0.25s ease-out 0s',\r\n      fontWeight:'bold',\r\n      marginLeft:'15px',\r\n      whiteSpace:'nowrap',\r\n      marginRight:'5px',\r\n      borderRadius:'30px',\r\n      justifyContent:'center',\r\n      backgroundColor:'#001145',\r\n      width:'100%',\r\n      \"&:hover\":{\r\n        color: \"rgb(0, 73, 237)\",\r\n        border: \"2px solid rgb(0, 73, 237)\",\r\n        backgroundColor:\"#001145\"\r\n      }\r\n    },\r\n    redBanner:props=>({\r\n      top: '31px',\r\n      color: 'rgb(255, 255, 255)',\r\n      left: '-41px',\r\n      width: '189px',\r\n      padding: '5px 0px',\r\n      position: 'absolute',\r\n      zIndex:'1000',\r\n      fontSize: '13px',\r\n      transform: 'rotate(-45deg) translate3d(0px, 0px, 0px)',\r\n      boxShadow: 'rgb(0 0 0 / 30%) 0px 0px 4px',\r\n      textAlign: 'center',\r\n      fontWeight: '600',\r\n      letterSpacing: '0.6px',\r\n      backgroundColor: 'var(--negative-red-color)',\r\n      display:props.isFlipped ? 'none':'block'\r\n    }),\r\n    newOnShelf:{\r\n      position:'absolute',\r\n      display:'flex',\r\n      alignItems:'center',\r\n      justifyContent:'center',\r\n      color:'white',\r\n      top:20,\r\n      right:10,\r\n      width:50,\r\n      height:25,\r\n      backgroundColor:'#18634b',\r\n      zIndex:100,\r\n      borderRadius:5\r\n    },\r\n    detailsBtn:{\r\n      backgroundColor:'white',\r\n      color:'#001145',\r\n      border:'2px solid white',\r\n      marginTop:'10px',\r\n      \"&:hover\":{\r\n        backgroundColor:'white'\r\n      }\r\n    },\r\n    backTile:{\r\n      backgroundColor:'#001145',\r\n      height:310,\r\n      color:'white',\r\n      padding:'0 20px'\r\n    }\r\n  });","import { CardContent, Grid, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronUp } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n  title: {\r\n    fontSize: \"0.95rem\",\r\n    color: \"grey\",\r\n  },\r\n  subtitle: {\r\n    fontSize: \"1.05rem\",\r\n    color: \"#001145\",\r\n  },\r\n});\r\n\r\nexport default function TileDescription({ property }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <CardContent\r\n      style={{ height: 170, padding: \"0 10px\" }}\r\n      className={classes.root}\r\n    >\r\n      <Grid container className={classes.content}>\r\n        <Grid\r\n          container\r\n          style={{ borderBottom: \"1px solid lightgrey\", padding: \"5px 0\" }}\r\n        >\r\n          <Grid item xs={12}>\r\n            <Typography align={\"center\"} className={classes.title}>\r\n              איזור\r\n            </Typography>\r\n          </Grid>\r\n          <Grid\r\n            container\r\n            item\r\n            xs={12}\r\n            alignItems={\"center\"}\r\n            justify={\"center\"}\r\n            className={classes.subtitle}\r\n          >\r\n            <Typography>{property.property_details.address[0]}</Typography> ,\r\n            <Typography>{property.property_details.address[1]} </Typography> ,\r\n            <Typography>{property.property_details.address[2]} </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          container\r\n          style={{ borderBottom: \"1px solid lightgrey\", padding: \"5px 0\" }}\r\n        >\r\n          <Grid\r\n            container\r\n            item\r\n            xs={6}\r\n            direction={\"column\"}\r\n            alignItems={\"center\"}\r\n            justify={\"center\"}\r\n            style={{ borderLeft: \"1px solid lightgrey\" }}\r\n          >\r\n            <Typography className={classes.title}>ממוצע שנתי</Typography>\r\n            <Typography className={classes.subtitle}>\r\n              {property.pred.fv[1]}%\r\n            </Typography>\r\n          </Grid>\r\n          <Grid\r\n            container\r\n            item\r\n            xs={6}\r\n            direction={\"column\"}\r\n            alignItems={\"center\"}\r\n            justify={\"center\"}\r\n          >\r\n            <Typography className={classes.title}>2045</Typography>\r\n            <Grid\r\n              container\r\n              item\r\n              alignItems={\"center\"}\r\n              justify={\"center\"}\r\n              style={{ width: \"100px\" }}\r\n            >\r\n              <Grid item xs={6}>\r\n                <Typography\r\n                  className={classes.subtitle}\r\n                  style={{ paddingRight: \"8px\" }}\r\n                >\r\n                  {parseInt(property.pred.fv[0]).toFixed(0)}%\r\n                </Typography>\r\n              </Grid>\r\n              {parseInt(property.pred.fv[0]) > 100 ? (\r\n                <Grid\r\n                  container\r\n                  item\r\n                  xs={6}\r\n                  alignItems={\"center\"}\r\n                  justify={\"center\"}\r\n                >\r\n                  <Typography>\r\n                    <FontAwesomeIcon\r\n                      icon={faChevronUp}\r\n                      style={{\r\n                        color: \"var(--positive-green-color)\",\r\n                        marginLeft: 5,\r\n                      }}\r\n                    />\r\n                  </Typography>\r\n                  <Typography>\r\n                    <FontAwesomeIcon\r\n                      icon={faChevronUp}\r\n                      style={{ color: \"var(--positive-green-color)\" }}\r\n                    />\r\n                  </Typography>\r\n                </Grid>\r\n              ) : (\r\n                <Typography>\r\n                  <FontAwesomeIcon\r\n                    icon={faChevronUp}\r\n                    style={{ color: \"var(--positive-green-color)\" }}\r\n                  />\r\n                </Typography>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          item\r\n          xs={12}\r\n          style={{ height: 54 }}\r\n          alignItems={\"center\"}\r\n          justify={\"center\"}\r\n        >\r\n          {property.days_locked > 0 ? (\r\n            <Grid container alignItems={\"center\"} justify={\"center\"}>\r\n              <Typography>ימים שנשארו:</Typography>\r\n              <Typography style={{ marginRight: \"5px\" }}>\r\n                {property.days_locked}\r\n              </Typography>\r\n            </Grid>\r\n          ) : (\r\n            <Typography>פתוח</Typography>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </CardContent>\r\n  );\r\n}\r\n","import { Typography, CardActionArea, CardMedia, Grid } from \"@material-ui/core\";\r\nimport TileDescription from \"./TileDescription\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFireAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst IMAGES_LINK = \"https://propdodev.ai\";\r\n\r\nexport default function FrontTilePreview({ property, classes }) {\r\n  const getDaysOnAir = (dateOnAir) => {\r\n    const date = dateOnAir.split(\"-\");\r\n    const newDateMill = new Date(date[0], date[1] - 1, date[2]);\r\n    const calcDate = Date.now() - newDateMill;\r\n    const daysOnAir = calcDate / (1000 * 60 * 60 * 24);\r\n    return daysOnAir.toFixed(0);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <CardActionArea>\r\n        {getDaysOnAir(property.property_details.date) < 6 ? (\r\n          <div className={classes.newOnShelf}>\r\n            <span style={{ marginLeft: 5 }}>חדש</span>\r\n            <FontAwesomeIcon icon={faFireAlt} />\r\n          </div>\r\n        ) : null}\r\n        {property.days_locked > 0 ? (\r\n          <div className={classes.redBanner}>\r\n            <Typography>הכרטיס נעול</Typography>\r\n          </div>\r\n        ) : null}\r\n        <div className={classes.imgContent}>\r\n          <CardMedia\r\n            className={classes.imgUrl}\r\n            image={IMAGES_LINK + property.image}\r\n            title={property.price}\r\n          />\r\n          <Grid\r\n            container\r\n            className={classes.price}\r\n            alignItems={\"center\"}\r\n            justify={\"center\"}\r\n          >\r\n            <Typography style={{ fontSize: \"1.2rem\" }}>\r\n              {property.pred.cv.toLocaleString(\"he-IL\")} &nbsp;₪\r\n            </Typography>\r\n          </Grid>\r\n        </div>\r\n        <TileDescription property={property} />\r\n      </CardActionArea>\r\n    </div>\r\n  );\r\n}\r\n","import { CardActionArea, Grid, Typography } from \"@material-ui/core\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function BackTilePreview({ property, classes }) {\r\n  const handleDetailsClick = (ev, { id, days_locked }) => {\r\n    if (days_locked === 0) console.log(\"locked\"); // need to pop up a dialog cmp\r\n    ev.stopPropagation();\r\n    window.location.href = `https://propdo.ai/dashboard/il/listings/?id=${id}#forecast`;\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      alignItems={\"center\"}\r\n      direction={\"column\"}\r\n      justify={\"space-around\"}\r\n      className={classes.backTile}\r\n    >\r\n      <div style={{ fontSize: \"25px\" }}>\r\n        <FontAwesomeIcon icon={faHome} />\r\n      </div>\r\n      <CardActionArea>\r\n        <Typography align={\"center\"}>\r\n          קנה עכשיו את הדוח על הנכס ותהיה עם הבלעדיות היחידה על הכתובת למשך 7\r\n          ימים!\r\n        </Typography>\r\n      </CardActionArea>\r\n      <CardActions className={classes.actions}>\r\n        <Grid container direction={\"column\"}>\r\n          <Button className={classes.btn}>לרכישה</Button>\r\n          <Button\r\n            className={classes.btn + \" \" + classes.detailsBtn}\r\n            onClick={(ev) => handleDetailsClick(ev, property)}\r\n          >\r\n            לפרטים\r\n          </Button>\r\n        </Grid>\r\n      </CardActions>\r\n    </Grid>\r\n  );\r\n}\r\n","import ReactCardFlip from \"react-card-flip\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { usePropertyPreview } from \"../styledCmp/PropertyPreviewStyled\";\r\nimport { useState } from \"react\";\r\nimport FrontTilePreview from \"./FrontTilePreview\";\r\nimport BackTilePreview from \"./BackTilePreview\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nexport default function PropertyPreview({ property }) {\r\n  const { properties } = useProperty();\r\n  const { setZoom, setCenter } = useMapbox();\r\n  const [isFlipped, setIsFlipped] = useState(false);\r\n  const props = {\r\n    isFlipped,\r\n  };\r\n  const classes = usePropertyPreview(props);\r\n\r\n  const handleEnter = () => {\r\n    setIsFlipped((prevState) => (prevState = !prevState));\r\n  };\r\n\r\n  const handleOut = () => {\r\n    setIsFlipped((prevState) => (prevState = !prevState));\r\n  };\r\n\r\n  const handleClick = (property) => {\r\n    console.log(\"property :>> \", property);\r\n    properties.forEach((property) => (property.is_clicked = 0));\r\n    property.is_clicked = 1;\r\n    setZoom(11);\r\n    setCenter([\r\n      property.property_details.centre[1],\r\n      property.property_details.centre[0],\r\n    ]);\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={classes.propertyPreview}\r\n      onClick={() => handleClick(property)}\r\n      onMouseEnter={handleEnter}\r\n      onMouseLeave={handleOut}\r\n      title=\"כדי לראות את איזור הנכס, לחץ כאן.\"\r\n    >\r\n      <ReactCardFlip\r\n        isFlipped={isFlipped}\r\n        flipDirection=\"horizontal\"\r\n        flipSpeedBackToFront={1.3}\r\n        flipSpeedFrontToBack={1.3}\r\n      >\r\n        <FrontTilePreview classes={classes} property={property} />\r\n        <BackTilePreview property={property} classes={classes} />\r\n      </ReactCardFlip>\r\n    </Card>\r\n  );\r\n}\r\n","import { Grid } from \"@material-ui/core\";\r\nimport { lighten, makeStyles } from \"@material-ui/core\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: 0,\r\n  },\r\n  box: {\r\n    display: \"flex\",\r\n    \"& div\": {\r\n      marginLeft: 5,\r\n      fontSize: \"1.2rem\",\r\n      color: \"var(--main-prop-color)\",\r\n    },\r\n  },\r\n  highlight:\r\n    theme.palette.type === \"light\"\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: \"1 1 100%\",\r\n  },\r\n}));\r\n\r\nexport const EnhancedToolbar = () => {\r\n  const classes = useToolbarStyles();\r\n  const { filterBy, queryProperties, properties } = useProperty();\r\n\r\n  return (\r\n    <Toolbar style={{ paddingRight: 0 }}>\r\n      <section className={classes.box}>\r\n        <div>נמצאו</div>\r\n        <div>\r\n          {filterBy.area.length === 0 || filterBy.district.length\r\n            ? queryProperties\r\n            : properties.length}\r\n        </div>\r\n        <div>נכסים ב-</div>\r\n        {filterBy.area.length === 0 ? (\r\n          <div>\r\n            {filterBy.district.length === 0\r\n              ? \"ישראל\"\r\n              : filterBy.district.map((name) => name + \",\")}\r\n          </div>\r\n        ) : (\r\n          <div> {filterBy.area.map((name) => name + \",\")}</div>\r\n        )}\r\n      </section>\r\n    </Toolbar>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nexport default function NotFoundProperty() {\r\n  return (\r\n    <Typography variant=\"h3\" style={{ color: \"var(--main-prop-color)\" }}>\r\n      לא נמצאו תוצאות.\r\n    </Typography>\r\n  );\r\n}\r\n","import TilePreview from \"./TilePreview\";\r\nimport { Grid, makeStyles } from \"@material-ui/core\";\r\nimport { EnhancedToolbar } from \"./ToolBarPreview\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport NotFoundProperty from \"./NotFoundProperty\";\r\n\r\nconst usePropertyListStyled = makeStyles((theme) => ({\r\n  root: {\r\n    boxSizing: \"content-box\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n  },\r\n  list: {},\r\n}));\r\n\r\nexport default function PropertyList({ properties }) {\r\n  const classes = usePropertyListStyled();\r\n  const { queryProperties } = useProperty();\r\n\r\n  return (\r\n    <section className={classes.root}>\r\n      {queryProperties > 0 ? (\r\n        <>\r\n          <EnhancedToolbar />\r\n          <Grid container spacing={2} className={classes.list}>\r\n            {properties.map((property) => (\r\n              <Grid item xs={12} sm={6} lg={4} xl={3} key={property.id}>\r\n                <TilePreview property={property} />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </>\r\n      ) : (\r\n        <NotFoundProperty />\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst headCells = [\r\n  {\r\n    id: \"area\",\r\n    numeric: false,\r\n    disablePadding: true,\r\n    label: \"איזור\",\r\n  },\r\n  { id: \"price\", numeric: true, disablePadding: false, label: \"מחיר נוכחי\" },\r\n  {\r\n    id: \"fv-average\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"תשואה ממוצעת שנתית\",\r\n  },\r\n  {\r\n    id: \"fv-average-2045\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"תשואה ממוצעת- 2045\",\r\n  },\r\n  {\r\n    id: \"created-at\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"ימים על המדף\",\r\n  },\r\n  {\r\n    id: \"is-locked\",\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: \"סטטוס עדכני\",\r\n  },\r\n  {\r\n    id: \"details\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"\",\r\n  },\r\n  {\r\n    id: \"buy\",\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: \"\",\r\n  },\r\n];\r\n\r\nexport function EnhancedTableHead(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={\"right\"}\r\n            padding={headCell.disablePadding ? \"none\" : \"normal\"}\r\n          >\r\n            <Typography className={classes.tableHeadCell}>\r\n              {headCell.label}\r\n            </Typography>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n","import TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { Button, makeStyles } from \"@material-ui/core\";\r\nimport CallMadeIcon from \"@material-ui/icons/CallMade\";\r\nimport { faChevronUp } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  detailsBtn: {\r\n    backgroundColor: \"white\",\r\n    color: \"#001145\",\r\n    border: \"2px solid white\",\r\n    padding: \"5px 5px\",\r\n    marginBottom: \"5px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    fontSize: \"0.9rem\",\r\n    justifyContent: \"space-around\",\r\n    width: \"100px\",\r\n    borderRadius: \"30px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"white\",\r\n    },\r\n  },\r\n  btn: {\r\n    color: \"white\",\r\n    display: \"flex\",\r\n    padding: \"5px 5px\",\r\n    fontSize: \"0.9rem\",\r\n    textAlign: \"center\",\r\n    transition: \"all 0.25s ease-out 0s\",\r\n    fontWeight: \"bold\",\r\n    whiteSpace: \"nowrap\",\r\n    borderRadius: \"30px\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"var(--yellow)\",\r\n    boxShadow:\r\n      \"0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%)\",\r\n    width: \"100px\",\r\n    \"&:hover\": {\r\n      boxShadow:\r\n        \"0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)\",\r\n      backgroundColor: \"var(--yellow)\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst getDaysOnAir = (dateOnAir) => {\r\n  const date = dateOnAir.split(\"-\");\r\n  const newDateMill = new Date(date[0], date[1] - 1, date[2]);\r\n  const calcDate = Date.now() - newDateMill;\r\n  const daysOnAir = calcDate / (1000 * 60 * 60 * 24);\r\n  return daysOnAir.toFixed(0);\r\n};\r\n\r\nexport default function TableMainBody({\r\n  properties,\r\n  page,\r\n  rowsPerPage,\r\n  handleClick,\r\n}) {\r\n  const classes = useStyles();\r\n  const handleDetailsClick = (ev, { id, days_locked }) => {\r\n    if (days_locked === 0) console.log(\"locked\"); // need to pop up a dialog cmp\r\n    ev.stopPropagation();\r\n    window.location.href = `https://propdo.ai/dashboard/il/listings/?id=${id}#forecast`;\r\n  };\r\n\r\n  return (\r\n    <TableBody>\r\n      {properties\r\n        .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n        .map((property, index) => {\r\n          const labelId = `enhanced-table-checkbox-${index}`;\r\n\r\n          return (\r\n            <TableRow\r\n              hover\r\n              onClick={() => handleClick(property)}\r\n              role=\"checkbox\"\r\n              tabIndex={-1}\r\n              key={property.id}\r\n              title=\"כדי לראות את איזור הנכס, לחץ כאן.\"\r\n            >\r\n              <TableCell\r\n                component=\"th\"\r\n                id={labelId}\r\n                scope=\"property\"\r\n                padding=\"none\"\r\n                align=\"right\"\r\n              >\r\n                {property.property_details.address[0]}\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                {property.pred.cv.toLocaleString(\"he-IL\")} &nbsp;₪\r\n              </TableCell>\r\n              <TableCell align=\"right\">{property.pred.fv[1]}%</TableCell>\r\n              <TableCell align=\"right\">\r\n                {parseInt(property.pred.fv[0])}%\r\n                {parseInt(property.pred.fv[0]) > 100 ? (\r\n                  <>\r\n                    <Typography style={{ display: \"inline\", marginRight: 5 }}>\r\n                      <FontAwesomeIcon\r\n                        icon={faChevronUp}\r\n                        style={{\r\n                          color: \"var(--positive-green-color)\",\r\n                          marginLeft: 5,\r\n                        }}\r\n                      />\r\n                    </Typography>\r\n                    <Typography style={{ display: \"inline\" }}>\r\n                      <FontAwesomeIcon\r\n                        icon={faChevronUp}\r\n                        style={{ color: \"var(--positive-green-color)\" }}\r\n                      />\r\n                    </Typography>\r\n                  </>\r\n                ) : (\r\n                  <Typography style={{ display: \"inline\", marginRight: 5 }}>\r\n                    <FontAwesomeIcon\r\n                      icon={faChevronUp}\r\n                      style={{ color: \"var(--positive-green-color)\" }}\r\n                    />\r\n                  </Typography>\r\n                )}\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                {getDaysOnAir(property.property_details.date)} ימים\r\n              </TableCell>\r\n              <TableCell align=\"right\">\r\n                {property.days_locked > 0 ? (\r\n                  <Typography\r\n                    style={{\r\n                      color: \"var(--negative-red-color)\",\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                    }}\r\n                  >\r\n                    נעול\r\n                  </Typography>\r\n                ) : (\r\n                  <Typography\r\n                    style={{\r\n                      color: \"var(--positive-green-color)\",\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                    }}\r\n                  >\r\n                    פתוח\r\n                  </Typography>\r\n                )}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                <Button\r\n                  className={classes.detailsBtn}\r\n                  onClick={(ev) => handleDetailsClick(ev, property)}\r\n                >\r\n                  <CallMadeIcon style={{ fontSize: 16 }} />\r\n                  לפרטים\r\n                </Button>\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                <Button className={classes.btn}>לרכישה</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n          );\r\n        })}\r\n      {/* {emptyRows > 0 && (\r\n        <TableRow style={{ height: 53 * emptyRows }}>\r\n          <TableCell colSpan={7} />\r\n        </TableRow>\r\n      )} */}\r\n    </TableBody>\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function PropertyPaging({ root }) {\r\n  const classes = useStyles();\r\n  const { totalPages, getRequestedPage, page } = useProperty();\r\n\r\n  const handleChange = (event, value) => {\r\n    getRequestedPage(value);\r\n    root.current.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Pagination\r\n        count={totalPages}\r\n        page={page}\r\n        onChange={handleChange}\r\n        style={{ margin: \"0.5rem\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport { EnhancedToolbar } from \"./ToolBarPreview\";\r\nimport { EnhancedTableHead } from \"./TableHeader\";\r\nimport TableMainBody from \"./TableMainBody\";\r\nimport TablePaging from \"./PropertyPaging\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport NotFoundProperty from \"./NotFoundProperty\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  table: {\r\n    minWidth: 350,\r\n  },\r\n  tableHeadCell: {\r\n    fontSize: \"14px\",\r\n    fontWeight: \"bold\",\r\n    color: \"var(--main-prop-color)\",\r\n  },\r\n\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: \"rect(0 0 0 0)\",\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: \"hidden\",\r\n    padding: 0,\r\n    position: \"absolute\",\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function TablePreview({ properties }) {\r\n  const { setZoom, setCenter } = useMapbox();\r\n  const classes = useStyles();\r\n  const [setSelected] = useState([]);\r\n  const [page] = useState(0);\r\n  const [rowsPerPage] = useState(properties.length);\r\n  const { queryProperties } = useProperty();\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = properties.map((n) => n.name);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (property) => {\r\n    properties.forEach((property) => (property.is_clicked = 0));\r\n    property.is_clicked = 1;\r\n    setZoom(11);\r\n    setCenter([\r\n      property.property_details.centre[1],\r\n      property.property_details.centre[0],\r\n    ]);\r\n  };\r\n\r\n  const emptyRows =\r\n    rowsPerPage - Math.min(rowsPerPage, properties.length - page * rowsPerPage);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {queryProperties > 0 ? (\r\n        <>\r\n          <EnhancedToolbar />\r\n          <TableContainer>\r\n            <Table\r\n              className={classes.table}\r\n              aria-labelledby=\"tableTitle\"\r\n              size={\"medium\"}\r\n              aria-label=\"enhanced table\"\r\n            >\r\n              <EnhancedTableHead\r\n                classes={classes}\r\n                onSelectAllClick={handleSelectAllClick}\r\n                rowCount={properties.length}\r\n              />\r\n              <TableMainBody\r\n                properties={properties}\r\n                page={page}\r\n                rowsPerPage={rowsPerPage}\r\n                emptyRows={emptyRows}\r\n                handleClick={handleClick}\r\n              />\r\n            </Table>\r\n          </TableContainer>\r\n        </>\r\n      ) : (\r\n        <NotFoundProperty />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Grid, Typography, Chip } from \"@material-ui/core\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\n\r\nexport default function ChipsFilter({ filterBy, handleFilter, isYeshuv }) {\r\n  const { cities, divisions } = useProperty();\r\n  const areas = isYeshuv ? cities : divisions;\r\n\r\n  const handleClick = (ev, area) => {\r\n    const value = area;\r\n    if (isYeshuv)\r\n      handleFilter({ ...filterBy, area: [...filterBy.area, value] });\r\n    else handleFilter({ ...filterBy, district: [...filterBy.district, value] });\r\n  };\r\n\r\n  return (\r\n    <Grid container justify={\"space-between\"} alignItems={\"center\"}>\r\n      <Grid item xs={12} style={{ padding: \"10px 0\" }}>\r\n        <Typography style={{ fontWeight: \"bold\" }}>\r\n          {isYeshuv ? \"בחר עיר\" : \"בחר מחוז\"}\r\n        </Typography>\r\n      </Grid>\r\n      <Grid container item xs={12} style={{ flexWrap: \"wrap\" }}>\r\n        {areas.map((area, idx) => {\r\n          return (\r\n            <div key={idx} style={{ margin: \"10px 0px 10px 10px\" }}>\r\n              <Chip\r\n                label={area}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  border: \"1px solid lightgrey\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  // backgroundColor: zone.isClicked ? \"#001145\" : \"white\",\r\n                  // color: zone.isClicked ? \"white\" : \"grey\",\r\n                  transition: \"all .5s\",\r\n                }}\r\n                onClick={(ev) => handleClick(ev, area)}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\n\r\nexport function useIsMobileScreen(size  = \"sm\") {\r\n\tconst theme = useTheme();\r\n\treturn useMediaQuery(theme.breakpoints.down(size));\r\n}\r\n","import React, { useCallback, useContext, useRef, useState } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport \"../assets/style/dialog.css\";\r\nimport { useIsMobileScreen } from \"../hooks/useIsMobileScreen\";\r\nconst DialogManagerContext = React.createContext({});\r\n\r\nconst useStylesDialog = makeStyles({\r\n  paper: {\r\n    overflowX: \"hidden !important\",\r\n    overflowY: \"auto !important\",\r\n  },\r\n  paperScrollPaper: {\r\n    justifyContent: \"center\",\r\n  },\r\n  tender: { overflowY: \"inherit !important\" },\r\n});\r\n\r\n/**\r\n * Represents DialogManager Context + Dialog component.\r\n * @example Open a dialog. DialogContentComponent is a functional or class component.\r\n * const {openDialog} = useDialogManager()\r\n * if (shouldOpenDialog) {\r\n * \topenDialog(DialogContentComponent, options)\r\n * }\r\n *\r\n */\r\nexport function DialogManager({ children }) {\r\n  const isMobileScreen = useIsMobileScreen();\r\n  const classes = useStylesDialog();\r\n\r\n  const [currentDialogComponent, setCurrentDialogComponent] = useState(\r\n    undefined\r\n  );\r\n  const [currentDialogContentProps, setCurrentDialogContentProps] = useState(\r\n    undefined\r\n  );\r\n  const [currentDialogProps, setCurrentDialogProps] = useState(undefined);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  /**\r\n   * Ref to hold actual onDialogExited logic.\r\n   * In case openDialog() from useDialogManager() is called inside another dialog\r\n   * we close current dialog and open elements dialog inside onExited callback of Dialog's transition.\r\n   */\r\n  const onExitedInner = useRef();\r\n\r\n  const closeDialog = useCallback((afterClose) => {\r\n    if (afterClose) {\r\n      onExitedInner.current = () => {\r\n        afterClose();\r\n        onExitedInner.current = undefined;\r\n      };\r\n    } else {\r\n      onExitedInner.current = undefined;\r\n    }\r\n    setOpen(false);\r\n    setCurrentDialogContentProps(undefined);\r\n    setCurrentDialogProps(undefined);\r\n  }, []);\r\n\r\n  const onDialogExited = useCallback(() => {\r\n    if (onExitedInner.current) {\r\n      onExitedInner.current();\r\n    }\r\n  }, []);\r\n\r\n  const openDialog = useCallback((DialogContentComponent, options) => {\r\n    if (!DialogContentComponent) {\r\n      console.error(\r\n        \"Need to pass DialogContentComponent to openDialog callback!\"\r\n      );\r\n      return;\r\n    }\r\n    const { DialogProps, DialogContentProps } = options ?? {};\r\n\r\n    function setCurrents() {\r\n      setCurrentDialogComponent((before) => {\r\n        //need to wrap it in function to pass it as expected.\r\n        //passing this way: setCurrentDialogComponent(DialogContentComponent) doesn't work well since\r\n        //DialogContentComponent is a function by itself\r\n        return DialogContentComponent;\r\n      });\r\n      setCurrentDialogProps(DialogProps);\r\n      setCurrentDialogContentProps(DialogContentProps);\r\n    }\r\n\r\n    setOpen((open) => {\r\n      if (!open) {\r\n        //no currently open dialog. Simple open.\r\n        setCurrents();\r\n        return true;\r\n      } else {\r\n        //call to openDialog within another dialog.\r\n        //Close current dialog first, and open elements one inside onExited transition callback.\r\n        onExitedInner.current = () => {\r\n          setOpen(true);\r\n          setCurrents();\r\n        };\r\n        return false;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <DialogManagerContext.Provider\r\n      value={{\r\n        closeDialog,\r\n        openDialog,\r\n      }}\r\n    >\r\n      {children}\r\n\r\n      <Dialog\r\n        open={open}\r\n        onClose={closeDialog}\r\n        disableBackdropClick\r\n        fullScreen={!!isMobileScreen}\r\n        scroll={isMobileScreen ? \"body\" : \"paper\"}\r\n        TransitionComponent={Slide}\r\n        transitionDuration={{ enter: 350, exit: 300 }}\r\n        TransitionProps={{ direction: \"up\", onExited: onDialogExited }}\r\n        maxWidth={\"lg\"}\r\n        classes={{ paper: classes.tender }}\r\n        {...currentDialogProps}\r\n      >\r\n        {currentDialogComponent !== undefined &&\r\n          React.createElement(\r\n            currentDialogComponent,\r\n            currentDialogContentProps\r\n          )}\r\n      </Dialog>\r\n    </DialogManagerContext.Provider>\r\n  );\r\n}\r\n\r\n/**\r\n * Custom Hook to get access to DialogManager actions like openDialog and closeDialog.\r\n */\r\nexport function useDialogManager() {\r\n  return useContext(DialogManagerContext);\r\n}\r\n","import { Button, Grid, Typography } from \"@material-ui/core\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport PriceSlider from \"./PriceSlider\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\nimport ChipsFilter from \"./ChipsFilter\";\r\nimport { useDialogManager } from \"./DialogManager\";\r\nimport { useIsMobileScreen } from \"../hooks/useIsMobileScreen\";\r\n\r\nexport default function AppFilterMobile() {\r\n  const isMobileScreen = useIsMobileScreen(825);\r\n  const { closeDialog } = useDialogManager();\r\n  let history = useHistory();\r\n  const { loadProperties, filterBy, setFilterBy } = useProperty();\r\n  const { setZoom, setCenter } = useMapbox();\r\n\r\n  const handleCloseFilter = () => {\r\n    closeDialog();\r\n  };\r\n\r\n  const handleFilter = (filter) => {\r\n    setFilterBy({ ...filter });\r\n    loadProperties(filter);\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: `?district=${filter.district.map(\r\n        (district) => district\r\n      )}&area=${filter.area.map((area) => area)}&minPrice=${\r\n        filter.price.min\r\n      }&maxPrice=${filter.price.max}`,\r\n    });\r\n  };\r\n\r\n  const resetFilter = () => {\r\n    const filter = { district: [], area: [], price: { min: 0, max: 20000000 } };\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: ``,\r\n    });\r\n    setFilterBy(filter);\r\n    setZoom(7);\r\n    setCenter([34.79482056785241, 32.08440630136077]);\r\n    loadProperties(filter);\r\n  };\r\n\r\n  return (\r\n    isMobileScreen && (\r\n      <Grid\r\n        container\r\n        style={{\r\n          position: \"relative\",\r\n          justifyContent: \"flex-start\",\r\n        }}\r\n      >\r\n        <Grid\r\n          container\r\n          item\r\n          xs={12}\r\n          alignItems={\"center\"}\r\n          justify={\"space-between\"}\r\n          style={{\r\n            borderBottom: \"1px solid lightgrey\",\r\n            padding: \"20px 0\",\r\n            height: 90,\r\n          }}\r\n        >\r\n          <ClearIcon\r\n            style={{\r\n              width: 46,\r\n              height: 46,\r\n              padding: 12,\r\n              color: \"grey\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            onClick={handleCloseFilter}\r\n          />\r\n          <span style={{ fontWeight: \"bold\" }}>מסננים</span>\r\n          <Button\r\n            style={{ alignSelf: \"center\", textDecoration: \"underline\" }}\r\n            onClick={resetFilter}\r\n          >\r\n            נקה\r\n          </Button>\r\n        </Grid>\r\n        <Grid container style={{ padding: \"0 20px\" }}>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{ borderBottom: \"1px solid lightgrey\", padding: \"20px 0\" }}\r\n          >\r\n            <ChipsFilter\r\n              filterBy={filterBy}\r\n              handleFilter={handleFilter}\r\n              isYeshuv={true}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{ borderBottom: \"1px solid lightgrey\", padding: \"20px 0\" }}\r\n          >\r\n            <ChipsFilter\r\n              filterBy={filterBy}\r\n              handleFilter={handleFilter}\r\n              isYeshuv={false}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            style={{ borderBottom: \"1px solid lightgrey\", padding: \"20px 0\" }}\r\n          >\r\n            <PriceSlider\r\n              filterBy={filterBy}\r\n              handleFilter={handleFilter}\r\n              isMobileScreen={isMobileScreen}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} style={{ padding: \"20px 0\" }}>\r\n            <Button\r\n              style={{\r\n                padding: \"10px 20px\",\r\n                width: \"100%\",\r\n                backgroundColor: \"var(--main-prop-color)\",\r\n                color: \"white\",\r\n                display: \"block\",\r\n              }}\r\n              onClick={handleCloseFilter}\r\n            >\r\n              הצג תוצאות\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  );\r\n}\r\n","import { Grid, Paper, Button } from \"@material-ui/core\";\r\nimport AppFilter from \"../cmps/AppFilter\";\r\nimport ToggleDisplayMode from \"./ToggleTilesDisplay.jsx\";\r\nimport TileList from \"../cmps/TileList\";\r\nimport TablePreview from \"../cmps/TablePreview\";\r\nimport PropertyPaging from \"./PropertyPaging\";\r\nimport { useDisplayMode } from \"../context/DisplayContext\";\r\nimport { useRef } from \"react\";\r\nimport AppFilterMobile from \"./AppFilterMobile\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport { useIsMobileScreen } from \"../hooks/useIsMobileScreen\";\r\nimport { useDialogManager } from \"./DialogManager\";\r\n\r\nexport default function PropertiesPreview({ properties, handleFilter }) {\r\n  const { display } = useDisplayMode();\r\n  const isMobileScreen = useIsMobileScreen(825);\r\n  const { openDialog } = useDialogManager();\r\n  const root = useRef(null);\r\n\r\n  const openPageFiter = () => {\r\n    openDialog(AppFilterMobile);\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      elevation={3}\r\n      style={{\r\n        height: \"100%\",\r\n        padding: \"3px 10px\",\r\n        width: \"100%\",\r\n      }}\r\n      ref={root}\r\n    >\r\n      <Grid container item xs={12} style={{ marginTop: \"0.5rem\" }}>\r\n        <Grid container item xs={10}>\r\n          {isMobileScreen ? (\r\n            <Button\r\n              style={{\r\n                display: \"flex\",\r\n                width: 100,\r\n                border: \"1px solid lightgrey\",\r\n                justifyContent: \"space-around\",\r\n              }}\r\n              onClick={openPageFiter}\r\n            >\r\n              מסננים\r\n              <FilterListIcon />\r\n            </Button>\r\n          ) : (\r\n            <AppFilter handleFilter={handleFilter} />\r\n          )}\r\n        </Grid>\r\n        <Grid\r\n          container\r\n          item\r\n          xs={2}\r\n          justify={\"flex-end\"}\r\n          alignItems={\"flex-start\"}\r\n        >\r\n          <ToggleDisplayMode />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container item xs={12}>\r\n        {display === \"table\" ? (\r\n          <TablePreview properties={properties} />\r\n        ) : (\r\n          <TileList properties={properties} />\r\n        )}\r\n      </Grid>\r\n      <Grid container item xs={12}>\r\n        <PropertyPaging count={properties.length} root={root} />\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n}\r\n","import ReactMapboxGl from \"react-mapbox-gl\";\r\nimport {\r\n  Popup,\r\n  GeoJSONLayer,\r\n  Cluster,\r\n  Marker,\r\n  ZoomControl,\r\n} from \"react-mapbox-gl\";\r\n\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    \"pk.eyJ1IjoicHJvcGRvIiwiYSI6ImNrcjh0Y2lqZTBmdm4ycHA4YmNjeG1qeG8ifQ.5kaJ7ckkIl4-1V4IfKZnIg\",\r\n  maxZoom: 12,\r\n  attributionControl: false,\r\n});\r\n\r\nexport default function Mapbox({ districts, yeshuvim }) {\r\n  let history = useHistory();\r\n  const nDistricts = { type: \"FeatureCollection\", features: districts };\r\n  const nYeshuvim = { type: \"FeatureCollection\", features: yeshuvim };\r\n  const { setMap, zoom, setZoom, center, setCenter } = useMapbox();\r\n  const { filterBy, setFilterBy, loadProperties } = useProperty();\r\n\r\n  const handleDistrictClick = (district) => {\r\n    yeshuvim.forEach((yeshuv) => (yeshuv.is_clicked = 0));\r\n    districts.forEach((district) => (district.is_clicked = 0));\r\n    district.is_clicked = 1;\r\n    if (district.properties.district === \"מחוז חיפה\") setZoom(10);\r\n    else if (district.properties.district === \"מחוז תל אביב\") setZoom(11);\r\n    else if (district.properties.district === \"מחוז המרכז\") setZoom(9.5);\r\n    else setZoom(8.5);\r\n    setCenter([district.properties.centre[1], district.properties.centre[0]]);\r\n    setFilterBy({ ...filterBy, district: [district.properties.district] });\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: `?district=${district.properties.district}&area=&minPrice=0&maxPrice=20000000`,\r\n    });\r\n    loadProperties({ ...filterBy, district: [district.properties.district] });\r\n  };\r\n\r\n  const handleYeshuvClick = (yeshuv) => {\r\n    if (zoom < 8.5) return;\r\n    districts.forEach((district) => (district.is_clicked = 0));\r\n    yeshuvim.forEach((yeshuv) => (yeshuv.is_clicked = 0));\r\n    yeshuv.is_clicked = 1;\r\n    setZoom(11);\r\n    setCenter([yeshuv.properties.centre[1], yeshuv.properties.centre[0]]);\r\n    setFilterBy({\r\n      ...filterBy,\r\n      district: [],\r\n      area: [yeshuv.properties.yeshuv],\r\n    });\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: `?district=&area=${yeshuv.properties.yeshuv}&minPrice=0&maxPrice=20000000`,\r\n    });\r\n    loadProperties({\r\n      ...filterBy,\r\n      district: [],\r\n      area: [yeshuv.properties.yeshuv],\r\n    });\r\n  };\r\n\r\n  const clusterMarker = (coordinates, pointCount) => {\r\n    return (\r\n      <Marker\r\n        coordinates={coordinates}\r\n        style={{\r\n          width: 8 * pointCount,\r\n          height: 8 * pointCount,\r\n          borderRadius: \"50%\",\r\n          backgroundColor: \"var(--main-prop-color)\",\r\n          color: \"white\",\r\n          fontSize: 12 + pointCount,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        key={(pointCount + 3.5) * 12}\r\n      >\r\n        {pointCount}\r\n      </Marker>\r\n    );\r\n  };\r\n\r\n  return (\r\n    nYeshuvim && (\r\n      <div style={{ height: \"100%\", width: \"100%\", position: \"relative\" }}>\r\n        <Map\r\n          center={center}\r\n          zoom={[zoom]}\r\n          style=\"mapbox://styles/mapbox/light-v10\"\r\n          containerStyle={{\r\n            position: \"absolute\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n          }}\r\n          onStyleLoad={(map) => setMap(map)}\r\n        >\r\n          {/* ##DISTRICTSLAYER CMP */}\r\n          {nDistricts.features.map((district, idx) => {\r\n            return (\r\n              <GeoJSONLayer\r\n                data={district}\r\n                fillPaint={{\r\n                  \"fill-color\": district.is_clicked ? \"#001145\" : \"white\",\r\n                  \"fill-opacity\": district.is_clicked ? 0.2 : 0,\r\n                }}\r\n                linePaint={{\r\n                  \"line-color\": district.is_clicked ? \"#ef3043\" : \"white\",\r\n                  \"line-width\": district.is_clicked ? 1 : 0,\r\n                }}\r\n                key={(idx + 4) * 13}\r\n                fillOnClick={() => handleDistrictClick(district)}\r\n              />\r\n            );\r\n          })}\r\n          {/* ##YESHUVIMLAYER CMP */}\r\n          {nYeshuvim.features.map((yeshuv, idx) => {\r\n            return (\r\n              <>\r\n                <GeoJSONLayer\r\n                  data={yeshuv}\r\n                  fillPaint={{\r\n                    \"fill-color\": yeshuv.is_clicked ? \"#001145\" : \"white\",\r\n                    \"fill-opacity\": yeshuv.is_clicked ? 0.2 : 0,\r\n                  }}\r\n                  linePaint={{\r\n                    \"line-color\": yeshuv.is_clicked ? \"#ef3043\" : \"white\",\r\n                    \"line-width\": yeshuv.is_clicked ? 1 : 0,\r\n                  }}\r\n                  key={idx}\r\n                  fillOnClick={() => handleYeshuvClick(yeshuv)}\r\n                ></GeoJSONLayer>\r\n                {yeshuv.is_clicked ? (\r\n                  <Popup\r\n                    coordinates={[\r\n                      yeshuv.properties.centre[1],\r\n                      yeshuv.properties.centre[0],\r\n                    ]}\r\n                    anchor=\"bottom\"\r\n                    offset={{\r\n                      bottom: [0, -80],\r\n                    }}\r\n                  >\r\n                    <p>\r\n                      נמצא {yeshuv.properties.count} נכסים ב-{\" \"}\r\n                      {yeshuv.properties.yeshuv}\r\n                    </p>\r\n                  </Popup>\r\n                ) : null}\r\n              </>\r\n            );\r\n          })}\r\n          {/* ##CLUSTER CMP */}\r\n          <Cluster ClusterMarkerFactory={clusterMarker} zoomOnClick={true}>\r\n            {nYeshuvim.features.map((feature, key) => (\r\n              <Marker\r\n                key={(key + 3) * 12}\r\n                style={{\r\n                  width: 20 * feature.properties.count,\r\n                  height: 20 * feature.properties.count,\r\n                  fontSize: 13 + feature.properties.count,\r\n                  borderRadius: \"50%\",\r\n                  backgroundColor: \"var(--main-prop-color)\",\r\n                  color: \"white\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  cursor: \"pointer\",\r\n                }}\r\n                coordinates={[\r\n                  feature.properties.centre[1],\r\n                  feature.properties.centre[0],\r\n                ]}\r\n                onClick={() => handleYeshuvClick(feature)}\r\n              >\r\n                {feature.properties.count}\r\n              </Marker>\r\n            ))}\r\n          </Cluster>\r\n          <ZoomControl position=\"bottom-right\" />\r\n        </Map>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import MapIcon from \"@material-ui/icons/Map\";\r\nimport ViewModuleIcon from \"@material-ui/icons/ViewModule\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nexport default function ToggleTableDisplay({ isMapDisplay, setIsMapDisplay }) {\r\n  const handleClick = () => {\r\n    setIsMapDisplay((prevState) => (prevState = !prevState));\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        bottom: \"-1%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        width: 170,\r\n        zIndex: 1001,\r\n        border: \"1px solid lightgrey\",\r\n        borderRadius: \"var(--border-radius)\",\r\n        backgroundColor: \"white\",\r\n        color: \"grey\",\r\n        cursor: \"pointer\",\r\n        padding: \"10px 15px\",\r\n        transition: \"all .5s\",\r\n      }}\r\n      onClick={handleClick}\r\n    >\r\n      {isMapDisplay ? (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-around\",\r\n          }}\r\n        >\r\n          {\" \"}\r\n          לתצוגת רשימה <ViewModuleIcon />{\" \"}\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-around\",\r\n          }}\r\n        >\r\n          לתצוגת מפה <MapIcon />{\" \"}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import Appheader from \"../cmps/Appheader\";\r\nimport { useProperty } from \"../context/PropertyContext\";\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport PropertiesPreview from \"../cmps/PropertiesPreview\";\r\nimport { useIsMobileScreen } from \"../hooks/useIsMobileScreen\";\r\nimport Mapbox from \"../cmps/Mapbox\";\r\nimport { useState } from \"react\";\r\nimport ToggleTableDisplay from \"../cmps/ToggleTableDisplay\";\r\nimport { useEffect } from \"react\";\r\nimport { useDialogManager } from \"../cmps/DialogManager.js\";\r\nimport { useMapbox } from \"../context/MapboxContext\";\r\n\r\nexport default function PropertyApp() {\r\n  const { properties, yeshuvim, districts } = useProperty();\r\n  const isMobileScreen = useIsMobileScreen(\"sm\");\r\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n  const { closeDialog } = useDialogManager();\r\n  const { isMapDisplay, setIsMapDisplay } = useMapbox();\r\n\r\n  const updateScreenWidth = () => {\r\n    setScreenWidth(window.innerWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", updateScreenWidth);\r\n    if (screenWidth > 825) closeDialog();\r\n    if (screenWidth > 960) setIsMapDisplay(false);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", updateScreenWidth);\r\n    };\r\n  }, [screenWidth]);\r\n\r\n  return (\r\n    properties && (\r\n      <section>\r\n        <Appheader />\r\n        <div style={{ margin: \"86px 24px 24px 24px\" }}>\r\n          <Grid container spacing={2} style={{ height: \"100%\" }}>\r\n            <Grid\r\n              container\r\n              item\r\n              xs={12}\r\n              md={7}\r\n              style={{\r\n                marginBottom: isMobileScreen ? \"5rem\" : \"1rem\",\r\n                display: isMapDisplay ? \"none\" : \"block\",\r\n              }}\r\n            >\r\n              <PropertiesPreview properties={properties} />\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              md={5}\r\n              style={{\r\n                height: \"calc(100vh - 78px)\",\r\n                display: isMobileScreen && !isMapDisplay ? \"none\" : \"block\",\r\n                position: \"sticky\",\r\n                top: 78,\r\n              }}\r\n            >\r\n              {yeshuvim && districts && (\r\n                <Paper elevation={3} style={{ height: \"calc(100% - 16px)\" }}>\r\n                  <Mapbox districts={districts} yeshuvim={yeshuvim} />\r\n                </Paper>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n        {isMobileScreen ? (\r\n          <ToggleTableDisplay\r\n            setIsMapDisplay={setIsMapDisplay}\r\n            isMapDisplay={isMapDisplay}\r\n          />\r\n        ) : null}\r\n      </section>\r\n    )\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\n\r\nimport { createTheme , ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nconst ThemeProviderComponent = ({ children }) => {\r\n  const theme = useMemo(() => {\r\n    return createTheme ({\r\n      direction: \"rtl\",\r\n\r\n      palette: {\r\n        type: \"light\",\r\n        primary: { main: \"#001145\" },\r\n        secondary: { main: \"#fff\" },\r\n        default: { main: \"#004cb8\" },\r\n        error: { main: \"#a91e2c !important\", top: \"-6px\" },\r\n      },\r\n      typography: {\r\n        fontFamily: '\"Open Sans Hebrew\", sans-serif',\r\n      },\r\n      overrides: {\r\n      MuiTableRow:{\r\n        root:{\r\n          cursor:'pointer'\r\n        }\r\n      },\r\n      MuiTableCell:{\r\n          root:{\r\n            padding:10\r\n          }\r\n        },\r\n      MuiTableSortLabel:{\r\n        root:{\r\n          flexDirection:'row',\r\n        }\r\n      },\r\n      PrivateValueLabel:{\r\n          offset:{\r\n            top:'-51px'\r\n          },\r\n          circle:{\r\n            width:55,\r\n            height:55\r\n          }\r\n        },\r\n        MuiSlider:{\r\n          valueLabel:{\r\n            left:'calc(-50% - 15px)'\r\n          }\r\n        },\r\n        MuiButton: {\r\n          containedSecondary: {\r\n            color: \"var(--main-propdo-color)\",\r\n          },\r\n          root: {\r\n            borderRadius: \"var(--border-radius)\",\r\n            fontWeight: 600,\r\n          },\r\n          contained: {\r\n            backgroundColor: \"#e0e0e0\",\r\n            color: \"rgba(0, 0, 0, 0.87)\",\r\n          },\r\n        },\r\n        MuiChip:{\r\n          deleteIcon:{\r\n            width:20,\r\n            margin:'0 5px'\r\n          }\r\n        },\r\n        MuiMenu:{\r\n          list:{\r\n            height: 150,\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"flex-end\",\r\n            padding: \"0 25px 15px\",\r\n            minWidth:435\r\n          }\r\n        },\r\n        MuiPaper: {\r\n          rounded: {\r\n            borderRadius: \"var(--border-radius)\",\r\n          },\r\n        },\r\n        MuiSelect: {\r\n          select: {\r\n            \"&:focus\": {\r\n              backgroundColor: \"none\",\r\n            },\r\n          },\r\n        },\r\n        MuiOutlinedInput: {\r\n          root: {\r\n            borderRadius: \"var(--border-radius)\",\r\n          },\r\n        },\r\n      },\r\n    });\r\n  }, []);\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n};\r\nexport default ThemeProviderComponent;\r\n","import { create } from \"jss\";\r\nimport rtl from \"jss-rtl\";\r\nimport { StylesProvider, jssPreset } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\n\r\n// Configure JSS\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\n\r\nexport const RTL = ({ children }) => {\r\n\treturn <StylesProvider jss={jss}>{children}</StylesProvider>;\r\n};\r\n","import './App.css';\nimport { PropertyProvider } from './context/PropertyContext';\nimport PropertyApp from './pages/PropertyApp';\nimport ThemeProviderComponent from './context/ThemeProviderComponent'\nimport { DisplayProvider } from './context/DisplayContext';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { MapboxProvider } from './context/MapboxContext';\nimport { RTL } from './styledCmp/RTL';\nimport { DialogManager } from './cmps/DialogManager';\n\n\n\nfunction App() {\n  return (\n    <div  >\n      <Router>\n        <RTL>\n        <ThemeProviderComponent>\n          <DisplayProvider>\n            <PropertyProvider>\n              <MapboxProvider>\n                <DialogManager>\n                <Switch>\n                  <Route exact path=\"/\">\n                    <PropertyApp/>\n                  </Route>\n                </Switch>\n                </DialogManager>\n              </MapboxProvider>\n            </PropertyProvider>\n          </DisplayProvider>\n        </ThemeProviderComponent>\n        </RTL>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}